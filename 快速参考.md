# 快速参考 - 石油数据预处理系统

## 🚀 快速启动

```bash
# 方法1：使用启动脚本
./start.sh

# 方法2：手动启动
cd backend && python app.py
```

**访问地址：** http://localhost:5001

---

## 📋 四大功能模块

### 1️⃣ 对比A2与SEC表
- **输入：** 上年度A2表 + 上年度SEC表 + 年月(6位)
- **输出：** 油井单元属性表 + 参评/非参评统计
- **用途：** 识别参评井

### 2️⃣ 对比年度A2表  
- **输入：** 上年度A2表 + 本年度A2表 + 年份(4位)
- **输出：** 注销井表 + 新投井表 + 单元变化井表
- **用途：** 识别井变化

### 3️⃣ 生成SEC数据表
- **输入：** 上年度SEC表 + 变化表(可选) + 年份年月
- **输出：** 本年度SEC数据表
- **用途：** 更新储量表

### 4️⃣ 生成评估数据表
- **输入：** 历史评估数据 + A2表 + 评估类型
- **输出：** 连续月份评估数据
- **用途：** 储量评估

---

## 📁 文件格式

| 格式 | 说明 |
|------|------|
| .xlsx | Excel 2007+ (推荐) |
| .xls | Excel 97-2003 |

**大小限制：** 建议 ≤ 50MB

---

## 🔢 日期格式

| 类型 | 格式 | 示例 |
|------|------|------|
| 年月 | YYYYMM | 202409 |
| 年份 | YYYY | 2025 |
| 日期 | YYYY-MM-DD | 2024-09-30 |

---

## 🎯 核心API

```bash
# 上传文件
POST /api/upload

# 业务1-对比A2与SEC
POST /api/business1/compare

# 业务2-对比年度A2
POST /api/business2/compare

# 业务3-生成SEC表
POST /api/business3/generate

# 业务4-常规油评估
POST /api/business4/conventional

# 业务4-页岩油评估
POST /api/business4/shale

# 下载文件
GET /api/download/<filename>
```

---

## 🔧 常用命令

```bash
# 检查服务状态
ps aux | grep app.py

# 停止服务
pkill -f "python.*app.py"

# 查看端口占用
lsof -i :5001

# 清理输出文件
rm -rf data/output/*

# 查看日志
tail -f backend/logs/app.log
```

---

## ⚡ 快捷键

| 操作 | 快捷键 |
|------|--------|
| 清空表单 | 点击"清空"按钮 |
| 切换模块 | 点击侧边导航 |
| 刷新页面 | F5 或 Cmd/Ctrl+R |

---

## ❌ 常见错误

| 错误信息 | 解决方法 |
|----------|----------|
| TemplateNotFound | 检查模板路径配置 |
| 端口被占用 | 修改端口或关闭占用程序 |
| 文件格式错误 | 确保是.xlsx或.xls格式 |
| 年月格式错误 | 使用YYYYMM或YYYY格式 |
| 请选择文件 | 确保上传了所有必填文件 |

---

## 📊 数据表字段（核心）

### A2表
- 井号、大油田、单元
- 年月、投产日期
- 月产油量、月产液量

### SEC表  
- 井号、评估油田、评估单元
- 投产年月、地质储量

### 评估表
- 单元/井号、年月
- 月产油量、累计产油量

---

## 💡 使用技巧

1. **批量处理：** 先测试小文件，再处理大文件
2. **数据备份：** 处理前备份原始数据
3. **格式检查：** 确保字段名与模板一致
4. **结果验证：** 下载后检查结果正确性
5. **错误记录：** 遇到问题记录错误信息

---

## 📞 获取帮助

- 📖 详细文档：`前端使用说明.md`
- 📚 项目文档：`项目说明.md`
- 💻 API文档：`API使用文档.md`
- 📝 代码注释：查看源码

---

**系统版本：** v1.0  
**快速参考卡片 | 2026-01-10**
